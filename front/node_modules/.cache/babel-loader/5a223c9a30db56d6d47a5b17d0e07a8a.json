{"ast":null,"code":"import _taggedTemplateLiteral from \"/mnt/c/Users/akthd/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/werewolf/werewolf/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/mnt/c/Users/akthd/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/werewolf/werewolf/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/c/Users/akthd/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/werewolf/werewolf/front/src/components/vote.jsx\",\n  _templateObject;\nimport styled from \"styled-components\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport { socket, SocketContext, SOCKET_EVENT } from \"./../service/socket\";\nvar NIGHT_JOB = {\n  WEREWOLF: \"NIGHT_WEREWOLF\",\n  ORACLE: \"NIGHT_ORACLE\",\n  ROBBER: \"NIGHT_ROBBER\",\n  TROUBLEMAKER: \"NIGHT_TROUBLEMAKER\",\n  CITIZEN: \"NIGHT_CITIZEN\",\n  NULL: \"NIGHT_NULL\"\n};\nvar DAY_JOB = {\n  WEREWOLF: \"DAY_WEREWOLF\",\n  ORACLE: \"DAY_ORACLE\",\n  ROBBER: \"DAY_ROBBER\",\n  TROUBLEMAKER: \"DAY_TROUBLEMAKER\",\n  CITIZEN: \"DAY_CITIZEN\",\n  NULL: \"DAY_NULL\"\n};\nfunction Vote() {\n  var _this = this;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalIsOpen = _useState2[0],\n    setModalIsOpen = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    id_nickname = _useState4[0],\n    set_id_nickname = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    voted = _useState6[0],\n    set_voted = _useState6[1];\n  var vote = function vote(_ref) {\n    var id = _ref.id;\n    if (voted) {\n      console.log(\"You voted already.\");\n    } else {\n      socket.emit(SOCKET_EVENT.VOTE, {\n        id: id\n      });\n      set_voted(true);\n    }\n  };\n  socket.on(SOCKET_EVENT.END_GAME, function () {\n    set_voted(false);\n  });\n  socket.on(SOCKET_EVENT.VOTE_START, function (_ref2) {\n    var data = _ref2.data;\n    set_id_nickname(data);\n    set_voted(false);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledButton, {\n    onClick: function onClick() {\n      return setModalIsOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, \"Modal Open\"), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalIsOpen,\n    onRequestClose: function onRequestClose() {\n      return setModalIsOpen(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, id_nickname.map(function (obj) {\n    return /*#__PURE__*/React.createElement(StyledButton, {\n      onClick: function onClick() {\n        return vote({\n          id: obj.id\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, obj.nickname);\n  })));\n}\nvar StyledButton = styled.button(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  margin: 0;\\n  border: none;\\n  cursor: pointer;\\n  font-family: \\\"Noto Sans KR\\\", sans-serif;\\n  font-size: var(--button-font-size, 1rem);\\n  padding: var(--button-padding, 12px 16px);\\n  border-radius: var(--button-radius, 8px);\\n  background: var(--button-bg-color, #0d6efd);\\n  color: var(--button-color, #ffffff);\\n\\n  &:active,\\n  &:hover,\\n  &:focus {\\n    background: var(--button-hover-bg-color, #025ce2);\\n  }\\n\\n  &:disabled {\\n    cursor: default;\\n    opacity: 0.5;\\n    background: var(--button-bg-color, #025ce2);\\n  }\\n\"])));\nexport default Vote;","map":{"version":3,"names":["styled","React","useState","useCallback","useEffect","Modal","socket","SocketContext","SOCKET_EVENT","NIGHT_JOB","WEREWOLF","ORACLE","ROBBER","TROUBLEMAKER","CITIZEN","NULL","DAY_JOB","Vote","_this","_useState","_useState2","_slicedToArray","modalIsOpen","setModalIsOpen","_useState3","_useState4","id_nickname","set_id_nickname","_useState5","_useState6","voted","set_voted","vote","_ref","id","console","log","emit","VOTE","on","END_GAME","VOTE_START","_ref2","data","createElement","Fragment","StyledButton","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","isOpen","onRequestClose","map","obj","nickname","button","_templateObject","_taggedTemplateLiteral"],"sources":["/mnt/c/Users/akthd/OneDrive/바탕 화면/werewolf/werewolf/front/src/components/vote.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport React, { useState, useCallback, useEffect } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { socket, SocketContext, SOCKET_EVENT } from \"./../service/socket\";\r\n\r\nconst NIGHT_JOB = {\r\n  WEREWOLF: \"NIGHT_WEREWOLF\",\r\n  ORACLE: \"NIGHT_ORACLE\",\r\n  ROBBER: \"NIGHT_ROBBER\",\r\n  TROUBLEMAKER: \"NIGHT_TROUBLEMAKER\",\r\n  CITIZEN: \"NIGHT_CITIZEN\",\r\n  NULL: \"NIGHT_NULL\",\r\n}\r\n\r\nconst DAY_JOB = {\r\n  WEREWOLF: \"DAY_WEREWOLF\",\r\n  ORACLE: \"DAY_ORACLE\",\r\n  ROBBER: \"DAY_ROBBER\",\r\n  TROUBLEMAKER: \"DAY_TROUBLEMAKER\",\r\n  CITIZEN: \"DAY_CITIZEN\",\r\n  NULL: \"DAY_NULL\",\r\n}\r\n\r\nfunction Vote() {\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const [id_nickname, set_id_nickname] = useState([]);\r\n  const [voted, set_voted] = useState(false);\r\n\r\n  const vote = ({id}) => {\r\n    if (voted) {\r\n        console.log(`You voted already.`);\r\n    } else {\r\n        socket.emit(SOCKET_EVENT.VOTE, {id});\r\n        set_voted(true);\r\n    }\r\n  };\r\n  socket.on(SOCKET_EVENT.END_GAME, () => {\r\n    set_voted(false);\r\n  });\r\n  socket.on(SOCKET_EVENT.VOTE_START, ({data}) => {\r\n    set_id_nickname(data);\r\n    set_voted(false);\r\n  });\r\n\r\n  \r\n  return (\r\n    <>\r\n    <StyledButton onClick={()=> setModalIsOpen(true)}>Modal Open</StyledButton>\r\n  \r\n\t  <Modal isOpen={modalIsOpen} onRequestClose={() => setModalIsOpen(false)}>\r\n      \r\n        {id_nickname.map((obj) => {\r\n          return (\r\n            <StyledButton onClick={() => vote({id: obj.id})}>{obj.nickname}</StyledButton>\r\n          );\r\n        })}\r\n      \r\n    </Modal>\r\n    \r\n    </>\r\n  );\r\n}\r\n\r\nconst StyledButton = styled.button`\r\n  margin: 0;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-family: \"Noto Sans KR\", sans-serif;\r\n  font-size: var(--button-font-size, 1rem);\r\n  padding: var(--button-padding, 12px 16px);\r\n  border-radius: var(--button-radius, 8px);\r\n  background: var(--button-bg-color, #0d6efd);\r\n  color: var(--button-color, #ffffff);\r\n\r\n  &:active,\r\n  &:hover,\r\n  &:focus {\r\n    background: var(--button-hover-bg-color, #025ce2);\r\n  }\r\n\r\n  &:disabled {\r\n    cursor: default;\r\n    opacity: 0.5;\r\n    background: var(--button-bg-color, #025ce2);\r\n  }\r\n`;\r\n\r\nexport default Vote;"],"mappings":"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"},"metadata":{},"sourceType":"module"}